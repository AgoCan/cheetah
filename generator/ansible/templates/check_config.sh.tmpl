#!/bin/bash
# 检测用户配置的config.ini是否正确

function check_ip(){
    echo $1 | grep -Po "^[0-9]+\.[0-9]+\.[0-9]+\.[0-9]+$" > /dev/null 2>&1
    check_error $? "The $1 is not a ip address."
}

function check_config(){
    IFS=$'\n'
    for line in $BASE
    do
        unset IFS
        array=(${line})
        ip_address=${array[0]}
        check_ip $ip_address
    done
    unset IFS
}